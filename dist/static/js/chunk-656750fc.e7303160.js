(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-656750fc"],{"22eb":function(t,e,n){"use strict";var o=n("88a2"),i=n.n(o);i.a},"578a":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login_container",attrs:{id:"particles-js"}},[n("el-page-header",{attrs:{content:"登录",title:"首页"},on:{back:t.goBack}}),n("div",{staticClass:"login_box"},[t._m(0),n("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{"label-width":"0px",model:t.loginForm,rules:t.loginFormRules}},[n("el-form-item",{attrs:{prop:"uid"}},[n("el-input",{attrs:{"prefix-icon":"iconfont icon-user",placeholder:"请输入编号"},model:{value:t.loginForm.uid,callback:function(e){t.$set(t.loginForm,"uid",e)},expression:"loginForm.uid"}})],1),n("el-form-item",{attrs:{prop:"pw"}},[n("el-input",{attrs:{type:"password","prefix-icon":"iconfont icon-3702mima",placeholder:"请输入密码"},model:{value:t.loginForm.pw,callback:function(e){t.$set(t.loginForm,"pw",e)},expression:"loginForm.pw"}})],1),n("el-form-item",{attrs:{prop:"inputIdentifyCode"}},[n("el-input",{attrs:{type:"text","prefix-icon":"iconfont el-icon-finished",placeholder:"请输入验证码"},model:{value:t.loginForm.inputIdentifyCode,callback:function(e){t.$set(t.loginForm,"inputIdentifyCode",e)},expression:"loginForm.inputIdentifyCode"}},[n("template",{slot:"suffix"},[n("div",{staticStyle:{width:"100%"},on:{click:t.refreshCode}},[n("s-identify",{attrs:{identifyCode:t.identifyCode}})],1)])],2)],1),n("el-form-item",[[n("el-radio",{attrs:{label:"user"},model:{value:t.loginForm.type,callback:function(e){t.$set(t.loginForm,"type",e)},expression:"loginForm.type"}},[t._v("用户")]),n("el-radio",{attrs:{label:"admin"},model:{value:t.loginForm.type,callback:function(e){t.$set(t.loginForm,"type",e)},expression:"loginForm.type"}},[t._v("管理员")])]],2),n("el-form-item",{staticClass:"btns"},[n("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")]),n("el-button",{attrs:{type:"info"},on:{click:t.resetloginForm}},[t._v("重置")])],1)],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"avater_box"},[o("img",{attrs:{src:n("cf05"),alt:""}})])}],r=(n("96cf"),n("1da1")),a=(n("572f"),n("6cd1")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"s-canvas"},[n("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},l=[],u=(n("cb29"),n("a9e3"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:30},backgroundColorMin:{type:Number,default:255},backgroundColorMax:{type:Number,default:255},colorMin:{type:Number,default:0},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:100},lineColorMax:{type:Number,default:255},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:112},contentHeight:{type:Number,default:31}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var n=this.randomNum(t,e),o=this.randomNum(t,e),i=this.randomNum(t,e);return"rgb("+n+","+o+","+i+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var n=0;n<this.identifyCode.length;n++)this.drawText(e,this.identifyCode[n],n);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,n){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var o=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5),r=this.randomNum(-45,45);t.translate(o,i),t.rotate(r*Math.PI/180),t.fillText(e,0,0),t.rotate(-r*Math.PI/180),t.translate(-o,-i)},drawLine:function(t){for(var e=0;e<5;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<80;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),c=u,d=(n("22eb"),n("2877")),f=Object(d["a"])(c,s,l,!1,null,"5ba14985",null),m=f.exports,h={components:{SIdentify:m},data:function(){return{loginForm:{uid:"",pw:"",type:"user",inputIdentifyCode:""},loginFormRules:{uid:[{required:!0,message:"请输入ID",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],pw:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],inputIdentifyCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},identifyCode:"",identifyCodes:"0123456789qwertyuioplkjhgfdsazxcvbnmZXCVBNMALKJHGFDSQWERTYUIOP"}},mounted:function(){this.init(),this.refreshCode()},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(t,e){for(var n=0;n<e;n++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]},resetloginForm:function(){this.$refs.loginFormRef.resetFields()},init:function(){particlesJS("particles-js",a)},login:function(){var t=this;this.$refs.loginFormRef.validate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(t.loginForm.inputIdentifyCode.toLowerCase()==t.identifyCode.toLowerCase()){e.next=4;break}return e.abrupt("return",t.$message.error("验证码不正确"));case 4:return e.next=6,t.$http.post("login",t.loginForm);case 6:if(o=e.sent,i=o.data,200===i.meta.status){e.next=10;break}return e.abrupt("return",t.$message.error(i.meta.msg));case 10:t.$message.success("登陆成功"),"admin"===t.loginForm.type?(window.localStorage.setItem("utype",t.loginForm.type),window.localStorage.setItem("aid",t.loginForm.uid),window.localStorage.setItem("token",i.data.token),t.$router.push("/admin")):(window.localStorage.setItem("utype",t.loginForm.type),window.localStorage.setItem("uid",t.loginForm.uid),window.localStorage.setItem("token",i.data.token),t.$router.push("/user"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},goBack:function(){this.$router.push("/index")}}},p=h,g=(n("aec2"),Object(d["a"])(p,o,i,!1,null,"789a91ba",null));e["default"]=g.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var o=n("1d80"),i=n("5899"),r="["+i+"]",a=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),l=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(t,e,n){var o=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var r,a;return i&&"function"==typeof(r=e.constructor)&&r!==n&&o(a=r.prototype)&&a!==n.prototype&&i(t,a),t}},"81d5":function(t,e,n){"use strict";var o=n("7b0b"),i=n("23cb"),r=n("50c4");t.exports=function(t){var e=o(this),n=r(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);while(u>s)e[s++]=t;return e}},"88a2":function(t,e,n){},a9e3:function(t,e,n){"use strict";var o=n("83ab"),i=n("da84"),r=n("94ca"),a=n("6eeb"),s=n("5135"),l=n("c6b6"),u=n("7156"),c=n("c04e"),d=n("d039"),f=n("7c73"),m=n("241c").f,h=n("06cf").f,p=n("9bf2").f,g=n("58a8").trim,b="Number",y=i[b],C=y.prototype,v=l(f(C))==b,x=function(t){var e,n,o,i,r,a,s,l,u=c(t,!1);if("string"==typeof u&&u.length>2)if(u=g(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+u}for(r=u.slice(2),a=r.length,s=0;s<a;s++)if(l=r.charCodeAt(s),l<48||l>i)return NaN;return parseInt(r,o)}return+u};if(r(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,N=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof N&&(v?d((function(){C.valueOf.call(n)})):l(n)!=b)?u(new y(x(e)),n,N):x(e)},I=o?m(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;I.length>F;F++)s(y,w=I[F])&&!s(N,w)&&p(N,w,h(y,w));N.prototype=C,C.constructor=N,a(i,b,N)}},aec2:function(t,e,n){"use strict";var o=n("fd29"),i=n.n(o);i.a},cb29:function(t,e,n){var o=n("23e7"),i=n("81d5"),r=n("44d2");o({target:"Array",proto:!0},{fill:i}),r("fill")},cf05:function(t,e,n){t.exports=n.p+"static/img/logo.e67e133f.png"},fd29:function(t,e,n){}}]);
//# sourceMappingURL=chunk-656750fc.e7303160.js.map